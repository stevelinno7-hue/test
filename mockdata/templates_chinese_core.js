(function(global){
    'use strict';

    function init() {
        const G = global.RigorousGenerator || (window.global && window.global.RigorousGenerator);
        if (!G || !G.registerTemplate) { setTimeout(init, 100); return; }
        const { pick, shuffle } = G.utils;

        const chiData = [
            { q: "ç™½é§’ééš™", a: "å½¢å®¹æ™‚é–“éå¾—å¾ˆå¿«", tag: ["åœ‹ä¸ƒ","æˆèª"] },
            { q: "æŒ‡é¹¿ç‚ºé¦¬", a: "æ¯”å–»æ··æ·†æ˜¯é", tag: ["åœ‹ä¸ƒ","æˆèª"] },
            { q: "ç•«è›‡æ·»è¶³", a: "æ¯”å–»å¤šæ­¤ä¸€èˆ‰", tag: ["åœ‹ä¸ƒ","æˆèª"] },
            { q: "æ¯å¼“è›‡å½±", a: "æ¯”å–»ç–‘ç¥ç–‘é¬¼ï¼Œè‡ªç›¸é©šæ“¾", tag: ["åœ‹ä¸ƒ","æˆèª"] },
            { q: "ç­é–€å¼„æ–§", a: "åœ¨è¡Œå®¶é¢å‰è³£å¼„æœ¬äº‹", tag: ["åœ‹ä¸ƒ","æˆèª"] },
            { q: "å¦‚ç«å¦‚è¼", a: "å½¢å®¹æ°£å‹¢æ—ºç››æˆ–æ°£æ°›ç†±çƒˆ", tag: ["åœ‹å…«","æˆèª"] },
            { q: "æ«›é¢¨æ²é›¨", a: "å½¢å®¹å¥”æ³¢å‹ç¢Œï¼Œä¸é¿é¢¨é›¨", tag: ["åœ‹å…«","æˆèª"] },
            { q: "éŸ‹ç·¨ä¸‰çµ•", a: "å½¢å®¹è®€æ›¸å‹¤å¥®", tag: ["åœ‹å…«","æˆèª"] },
            { q: "ä¸‰ä»¤äº”ç”³", a: "å†ä¸‰å‘½ä»¤å‘Šèª¡", tag: ["åœ‹å…«","æˆèª"] },
            { q: "ç ´é‡œæ²ˆèˆŸ", a: "æ¯”å–»åšäº‹æœæ±ºï¼Œç¾©ç„¡åé¡§", tag: ["åœ‹ä¹","æˆèª"] },
            { q: "è‡¥è–ªå˜—è†½", a: "åˆ»è‹¦è‡ªå‹µï¼Œç™¼æ†¤åœ–å¼·", tag: ["åœ‹ä¹","æˆèª"] },
            { q: "ç½„ç«¹é›£æ›¸", a: "å½¢å®¹ç½ªæƒ¡æ¥µå¤šï¼Œç„¡æ³•å¯«ç›¡", tag: ["åœ‹ä¹","æˆèª"] },
            { q: "æ˜æ—¥é»ƒèŠ±", a: "æ¯”å–»éæ™‚çš„äº‹ç‰©", tag: ["é«˜ä¸€","æˆèª"] },
            { q: "ç½ªä¸å®¹èª…", a: "ç½ªå¤§æƒ¡æ¥µï¼Œè™•æ­»éƒ½ä¸è¶³ä»¥æŠµå„Ÿ", tag: ["é«˜ä¸€","æˆèª"] },
            { q: "æ–‡ä¸åŠ é»", a: "å½¢å®¹æ–‡æ€æ•æ·ï¼Œä¸‹ç­†æˆç« ", tag: ["é«˜ä¸€","æˆèª"] },
            { q: "ä¸ƒæœˆæµç«", a: "å½¢å®¹å¤©æ°£è½‰æ¶¼", tag: ["é«˜äºŒ","æˆèª"] },
            { q: "ä¸åˆŠä¹‹è«–", a: "ç¢ºé‘¿ä¸ç§»ã€ä¸å¯æ›´å‹•çš„è¨€è«–", tag: ["é«˜äºŒ","æˆèª"] },
            { q: "ç“œç”°æä¸‹", a: "æ¯”å–»å®¹æ˜“å¼•èµ·å«Œç–‘çš„å ´åˆ", tag: ["é«˜äºŒ","æˆèª"] },
            { q: "å—è½…åŒ—è½", a: "æ¯”å–»è¡Œå‹•å’Œç›®çš„å½¼æ­¤èƒŒé“è€Œé¦³", tag: ["é«˜äºŒ","æˆèª"] },
            { q: "æ»„æµ·æ¡‘ç”°", a: "æ¯”å–»ä¸–äº‹è®ŠåŒ–å·¨å¤§", tag: ["é«˜ä¸‰","æˆèª"] },
            { q: "ç®¡çªºè ¡æ¸¬", a: "æ¯”å–»è¦‹è­˜ç‹¹çª„", tag: ["é«˜ä¸‰","æˆèª"] },
            { q: "æš´è™é¦®æ²³", a: "æ¯”å–»æœ‰å‹‡ç„¡è¬€", tag: ["é«˜ä¸‰","æˆèª"] },
            { q: "ç·£æœ¨æ±‚é­š", a: "æ¯”å–»æ–¹æ³•éŒ¯èª¤ï¼Œå¾’å‹ç„¡åŠŸ", tag: ["é«˜ä¸‰","æˆèª"] },
            { q: "é£²é´†æ­¢æ¸´", a: "æ¯”å–»åªæ±‚è§£æ±ºçœ¼å‰å›°é›£ï¼Œä¸é¡§å¾Œæ‚£", tag: ["é«˜ä¸‰","æˆèª"] },
            { q: "æŒ‰åœ–ç´¢é©¥", a: "æ¯”å–»åšäº‹æ‹˜æ³¥æˆè¦ï¼Œä¸çŸ¥è®Šé€š", tag: ["é«˜ä¸‰","æˆèª"] },
            { q: "æ±—ç‰›å……æ£Ÿ", a: "å½¢å®¹æ›¸ç±æ¥µå¤š", tag: ["é«˜ä¸‰","æˆèª"] },
            { q: "ç¾è¼ªç¾å¥", a: "å½¢å®¹æˆ¿å±‹é«˜å¤§è¯éº—", tag: ["é«˜ä¸‰","æˆèª"] },
            { q: "äº¦æ­¥äº¦è¶¨", a: "æ¯”å–»äº‹äº‹æ¨¡ä»¿æˆ–è¿½éš¨åˆ¥äºº", tag: ["é«˜ä¸‰","æˆèª"] },
            
            { q: "ç™½é«®ä¸‰åƒä¸ˆï¼Œç·£æ„ä¼¼å€‹é•·", a: "èª‡é£¾", tag: ["åœ‹å…«","ä¿®è¾­"] },
            { q: "æ„Ÿæ™‚èŠ±æ¿ºæ·šï¼Œæ¨åˆ¥é³¥é©šå¿ƒ", a: "è½‰åŒ–(æ“¬äºº)", tag: ["åœ‹å…«","ä¿®è¾­"] },
            { q: "é‚£é›ªç™½çš„ç¾½æ¯›ï¼Œåƒæ˜¯å¤©ä½¿çš„ç¿…è†€", a: "è­¬å–»(æ˜å–»)", tag: ["åœ‹ä¸ƒ","ä¿®è¾­"] },
            { q: "å±å±å–³å–³çš„éº»é›€", a: "æ‘¹å¯«(è½è¦º)", tag: ["åœ‹ä¸ƒ","ä¿®è¾­"] },
            { q: "å¾®é¢¨éè™•ï¼Œé€ä¾†ç¸·ç¸·æ¸…é¦™ï¼Œå½·å½¿é è™•é«˜æ¨“ä¸Šæ¸ºèŒ«çš„æ­Œè²", a: "ç§»è¦º(é€šæ„Ÿ)", tag: ["é«˜ä¸€","ä¿®è¾­"] },
            { q: "åœ¨å¤©é¡˜ä½œæ¯”ç¿¼é³¥ï¼Œåœ¨åœ°é¡˜ç‚ºé€£ç†æ", a: "å°å¶", tag: ["åœ‹ä¹","ä¿®è¾­"] },
            { q: "çŸ¥ä¹‹è€…ä¸å¦‚å¥½ä¹‹è€…ï¼Œå¥½ä¹‹è€…ä¸å¦‚æ¨‚ä¹‹è€…", a: "å±¤é", tag: ["åœ‹å…«","ä¿®è¾­"] },
            { q: "é›„å…”è…³æ’²æœ”ï¼Œé›Œå…”çœ¼è¿·é›¢", a: "äº’æ–‡", tag: ["é«˜ä¸€","ä¿®è¾­"] },
            { q: "ä¸»äººä¸‹é¦¬å®¢åœ¨èˆ¹", a: "äº’æ–‡", tag: ["é«˜ä¸€","ä¿®è¾­"] },
            { q: "å€Ÿå•é…’å®¶ä½•è™•æœ‰ï¼Ÿç‰§ç«¥é™æŒ‡æèŠ±æ‘", a: "è¨­å•(æå•)", tag: ["åœ‹å…«","ä¿®è¾­"] },
            { q: "è°æ˜äººï¼ä½ å‘Šè¨´æˆ‘ï¼Œæˆ‘å€‘çš„æ—¥å­ç‚ºä»€éº¼ä¸€å»ä¸å¾©è¿”å‘¢ï¼Ÿ", a: "è¨­å•(æ¿€å•)", tag: ["åœ‹ä¹","ä¿®è¾­"] },
            { q: "æˆ‘é”é”çš„é¦¬è¹„æ˜¯ç¾éº—çš„éŒ¯èª¤", a: "æ˜ è¥¯", tag: ["é«˜äºŒ","ä¿®è¾­"] },
            { q: "æ˜¯èª°å¤šäº‹ç¨®èŠ­è•‰ï¼Ÿæ—©ä¹Ÿç€Ÿç€Ÿï¼Œæ™šä¹Ÿç€Ÿç€Ÿ", a: "é¡ç–Š", tag: ["åœ‹ä¹","ä¿®è¾­"] },
            { q: "ä½•ä»¥è§£æ†‚ï¼Ÿå”¯æœ‰æœåº·", a: "å€Ÿä»£(é…’)", tag: ["é«˜äºŒ","ä¿®è¾­"] },
            { q: "æœ±é–€é…’è‚‰è‡­ï¼Œè·¯æœ‰å‡æ­»éª¨", a: "å€Ÿä»£(å¯Œè²´äººå®¶)", tag: ["é«˜äºŒ","ä¿®è¾­"] },
            { q: "ä¸€èªå¤©ç„¶è¬å¤æ–°ï¼Œè±ªè¯è½ç›¡è¦‹çœŸæ·³", a: "æ˜ è¥¯", tag: ["é«˜ä¸‰","ä¿®è¾­"] },
            { q: "å­¤å¸†é å½±ç¢§å±±ç›¡", a: "å€Ÿä»£(èˆ¹)", tag: ["åœ‹ä¸ƒ","ä¿®è¾­"] },
            { q: "ç²‰èº«ç¢éª¨æ¸¾ä¸æ€•ï¼Œè¦ç•™æ¸…ç™½åœ¨äººé–“", a: "é›™é—œ(çŸ³ç°/äººå“)", tag: ["åœ‹ä¹","ä¿®è¾­"] },
            { q: "æ±é‚Šæ—¥å‡ºè¥¿é‚Šé›¨ï¼Œé“æ˜¯ç„¡æ™´å»æœ‰æ™´", a: "é›™é—œ(æ™´/æƒ…)", tag: ["åœ‹ä¹","ä¿®è¾­"] },

            { q: "è±¡å½¢", a: "ç•«æˆå…¶ç‰©ï¼Œéš¨é«”è©°è©˜ (å¦‚ï¼šæ—¥ã€æœˆ)", tag: ["åœ‹å…«","å…­æ›¸"] },
            { q: "æŒ‡äº‹", a: "è¦–è€Œå¯è­˜ï¼Œå¯Ÿè€Œè¦‹æ„ (å¦‚ï¼šä¸Šã€ä¸‹)", tag: ["åœ‹å…«","å…­æ›¸"] },
            { q: "æœƒæ„", a: "æ¯”é¡åˆèª¼ï¼Œä»¥è¦‹æŒ‡æ’ (å¦‚ï¼šä¼‘ã€æ­¦)", tag: ["åœ‹å…«","å…­æ›¸"] },
            { q: "å½¢è²", a: "ä»¥äº‹ç‚ºåï¼Œå–è­¬ç›¸æˆ (å¦‚ï¼šæ±Ÿã€æ²³)", tag: ["åœ‹å…«","å…­æ›¸"] },
            { q: "è€Œç«‹ä¹‹å¹´", a: "30æ­²", tag: ["åœ‹ä¸ƒ","å¹´é½¡"] },
            { q: "ä¸æƒ‘ä¹‹å¹´", a: "40æ­²", tag: ["åœ‹ä¸ƒ","å¹´é½¡"] },
            { q: "çŸ¥å‘½ä¹‹å¹´", a: "50æ­²", tag: ["åœ‹ä¸ƒ","å¹´é½¡"] },
            { q: "è€³é †ä¹‹å¹´ / èŠ±ç”²", a: "60æ­²", tag: ["åœ‹ä¸ƒ","å¹´é½¡"] },
            { q: "å¤ç¨€ä¹‹å¹´", a: "70æ­²", tag: ["åœ‹ä¸ƒ","å¹´é½¡"] },
            { q: "å¼±å† ", a: "ç”·å­20æ­²", tag: ["é«˜ä¸€","å¹´é½¡"] },
            { q: "åŠç¬„", a: "å¥³å­15æ­²", tag: ["é«˜ä¸€","å¹´é½¡"] },
            { q: "æŸè„©", a: "é€çµ¦è€å¸«çš„è¦‹é¢ç¦®(è‚‰ä¹¾)", tag: ["åœ‹ä¹","ç¦®ä¿—"] },
            { q: "æ¤¿è±ä¸¦èŒ‚", a: "ç¥è³€çˆ¶æ¯å¥åœ¨", tag: ["é«˜ä¸€","é¡Œè¾­"] },
            { q: "ææ—æ˜¥æš–", a: "ç¨±è®šé†«ç”Ÿé†«è¡“é«˜æ˜", tag: ["é«˜ä¸€","é¡Œè¾­"] },
            { q: "æ¡ƒææ»¿é–€", a: "ç¨±è®šè€å¸«å­¸ç”Ÿçœ¾å¤š", tag: ["é«˜ä¸€","é¡Œè¾­"] },
            { q: "å¼„ç’‹ä¹‹å–œ", a: "è³€ç”Ÿå­", tag: ["é«˜äºŒ","é¡Œè¾­"] },
            { q: "å¼„ç“¦ä¹‹å–œ", a: "è³€ç”Ÿå¥³", tag: ["é«˜äºŒ","é¡Œè¾­"] },
            { q: "è©©ç¶“", a: "ä¸­åœ‹æœ€æ—©çš„è©©æ­Œç¸½é›†ï¼ŒåŒ—æ–¹æ–‡å­¸", tag: ["é«˜ä¸€","ç¶“å…¸"] },
            { q: "æ¥šè¾­", a: "ä¸­åœ‹æœ€æ—©çš„è¾­è³¦ç¸½é›†ï¼Œå—æ–¹æ–‡å­¸", tag: ["é«˜ä¸€","ç¶“å…¸"] },
            { q: "å²è¨˜", a: "å¸é¦¬é·ï¼Œç¬¬ä¸€éƒ¨ç´€å‚³é«”é€šå²", tag: ["é«˜äºŒ","å²æ›¸"] },
            { q: "æ¼¢æ›¸", a: "ç­å›ºï¼Œç¬¬ä¸€éƒ¨ç´€å‚³é«”æ–·ä»£å²", tag: ["é«˜äºŒ","å²æ›¸"] },
            { q: "è³‡æ²»é€šé‘‘", a: "å¸é¦¬å…‰ï¼Œç·¨å¹´é«”é€šå²", tag: ["é«˜äºŒ","å²æ›¸"] },

            { q: "å­¸è€Œæ™‚ç¿’ä¹‹ï¼Œä¸äº¦èªªä¹", a: "è«–èª (å­”å­å¼Ÿå­)", tag: ["åœ‹ä¸ƒ","å¤æ–‡"] },
            { q: "ä¸‰äººè¡Œï¼Œå¿…æœ‰æˆ‘å¸«ç„‰", a: "è«–èª (å¼·èª¿å­¸ç¿’)", tag: ["åœ‹ä¸ƒ","å¤æ–‡"] },
            { q: "ç·£æœ¨æ±‚é­š", a: "å­Ÿå­ (æ¢æƒ ç‹ä¸Š)", tag: ["é«˜ä¸€","å¤æ–‡"] },
            { q: "ä»¥äº”åæ­¥ç¬‘ç™¾æ­¥", a: "å­Ÿå­ (æ¯”å–»ç¼ºé»ç›¸åŒ)", tag: ["é«˜ä¸€","å¤æ–‡"] },
            { q: "å‹¸å­¸", a: "è€å­ (æ€§æƒ¡è«–ï¼Œå¼·èª¿å¾Œå¤©å­¸ç¿’)", tag: ["é«˜äºŒ","å¤æ–‡"] },
            { q: "ç‡­ä¹‹æ­¦é€€ç§¦å¸«", a: "å·¦å‚³ (å¤–äº¤è¾­ä»¤)", tag: ["é«˜ä¸€","å¤æ–‡"] },
            { q: "è««é€å®¢æ›¸", a: "ææ–¯ (ç§¦ä»£ï¼Œå¯¦ç”¨æ–‡)", tag: ["é«˜äºŒ","å¤æ–‡"] },
            { q: "å¤§åŒèˆ‡å°åº·", a: "ç¦®è¨˜ (æ”¿æ²»ç†æƒ³)", tag: ["é«˜ä¸€","å¤æ–‡"] },
            { q: "å‡ºå¸«è¡¨", a: "è«¸è‘›äº® (ä¸‰åœ‹ï¼Œå¿ å›æ„›åœ‹)", tag: ["é«˜äºŒ","å¤æ–‡"] },
            { q: "æ¡ƒèŠ±æºè¨˜", a: "é™¶æ·µæ˜ (æ±æ™‰ï¼Œç†æƒ³ä¸–ç•Œ)", tag: ["åœ‹ä¹","å¤æ–‡"] },
            { q: "ä¸–èªªæ–°èª", a: "åŠ‰ç¾©æ…¶ (ç­†è¨˜å°èªªï¼Œé­æ™‰é¢¨åº¦)", tag: ["åœ‹å…«","å¤æ–‡"] },
            { q: "è˜­äº­é›†åº", a: "ç‹ç¾²ä¹‹ (å¤©ä¸‹ç¬¬ä¸€è¡Œæ›¸)", tag: ["é«˜äºŒ","å¤æ–‡"] },
            { q: "å…¸è«–è«–æ–‡", a: "æ›¹ä¸• (æ–‡å­¸æ‰¹è©•)", tag: ["é«˜ä¸‰","å¤æ–‡"] },
            { q: "å¸«èªª", a: "éŸ“æ„ˆ (æ–‡ä»¥è¼‰é“ï¼Œå°Šå¸«é‡é“)", tag: ["é«˜ä¸€","å¤æ–‡"] },
            { q: "å¸«è€…ï¼Œæ‰€ä»¥å‚³é“ã€å—æ¥­ã€è§£æƒ‘ä¹Ÿ", a: "éŸ“æ„ˆ", tag: ["é«˜ä¸€","å¤æ–‡"] },
            { q: "å§‹å¾—è¥¿å±±å®´éŠè¨˜", a: "æŸ³å®—å…ƒ (æ°¸å·å…«è¨˜)", tag: ["é«˜äºŒ","å¤æ–‡"] },
            { q: "å²³é™½æ¨“è¨˜", a: "èŒƒä»²æ·¹ (å…ˆæ†‚å¾Œæ¨‚)", tag: ["é«˜ä¸‰","å¤æ–‡"] },
            { q: "å…ˆå¤©ä¸‹ä¹‹æ†‚è€Œæ†‚ï¼Œå¾Œå¤©ä¸‹ä¹‹æ¨‚è€Œæ¨‚", a: "èŒƒä»²æ·¹", tag: ["é«˜ä¸‰","å¤æ–‡"] },
            { q: "é†‰ç¿äº­è¨˜", a: "æ­é™½è„© (èˆ‡æ°‘åŒæ¨‚)", tag: ["é«˜äºŒ","å¤æ–‡"] },
            { q: "èµ¤å£è³¦", a: "è˜‡è»¾ (è¢«è²¶é»ƒå·ï¼Œè±é”äººç”Ÿ)", tag: ["é«˜ä¸€","å¤æ–‡"] },
            { q: "å¯„èœ‰è£æ–¼å¤©åœ°ï¼Œæ¸ºæ»„æµ·ä¹‹ä¸€ç²Ÿ", a: "è˜‡è»¾ (èµ¤å£è³¦)", tag: ["é«˜ä¸€","å¤æ–‡"] },
            { q: "å»‰æ¥", a: "é¡§ç‚æ­¦ (å¼·èª¿å£«å¤§å¤«æ°£ç¯€)", tag: ["é«˜ä¸€","å¤æ–‡"] },
            { q: "æ™šéŠå…­æ©‹å¾…æœˆè¨˜", a: "è¢å®é“ (ç¨æŠ’æ€§éˆ)", tag: ["é«˜ä¸€","å¤æ–‡"] },
            { q: "é …è„Šè»’å¿—", a: "æ­¸æœ‰å…‰ (è¦ªæƒ…æ•£æ–‡)", tag: ["é«˜äºŒ","å¤æ–‡"] },
            { q: "å·¦å¿ æ¯…å…¬è»¼äº‹", a: "æ–¹è‹ (æ¡åŸæ´¾ï¼Œå¸«ç”Ÿæƒ…æ“)", tag: ["é«˜äºŒ","å¤æ–‡"] },
            { q: "çµç¶è¡Œ", a: "ç™½å±…æ˜“ (åŒæ˜¯å¤©æ¶¯æ·ªè½äºº)", tag: ["é«˜ä¸€","å¤æ–‡"] },
            { q: "å¤¢æºªç­†è«‡", a: "æ²ˆæ‹¬ (ç§‘æŠ€ç™¾ç§‘)", tag: ["åœ‹å…«","å¤æ–‡"] },
            
            { q: "èˆ‰é ­æœ›æ˜æœˆï¼Œä½é ­æ€æ•…é„‰", a: "æç™½ (éœå¤œæ€)", tag: ["åœ‹ä¸ƒ","å”è©©"] },
            { q: "ç™»é¸›é›€æ¨“", a: "ç‹ä¹‹æ¸™ (ç››å”é‚Šå¡)", tag: ["åœ‹ä¸ƒ","å”è©©"] },
            { q: "åœ‹ç ´å±±æ²³åœ¨ï¼ŒåŸæ˜¥è‰æœ¨æ·±", a: "æœç”« (æ˜¥æœ›ï¼Œæ„Ÿæ™‚æ†‚åœ‹)", tag: ["åœ‹å…«","å”è©©"] },
            { q: "æ…ˆæ¯æ‰‹ä¸­ç·šï¼ŒéŠå­èº«ä¸Šè¡£", a: "å­ŸéƒŠ (éŠå­åŸ)", tag: ["åœ‹ä¸ƒ","å”è©©"] },
            { q: "è¡Œåˆ°æ°´çª®è™•ï¼Œåçœ‹é›²èµ·æ™‚", a: "ç‹ç¶­ (çµ‚å—åˆ¥æ¥­ï¼Œå±±æ°´ç”°åœ’)", tag: ["åœ‹ä¹","å”è©©"] },
            { q: "å¤§æ±Ÿæ±å»ï¼Œæµªæ·˜ç›¡ï¼Œåƒå¤é¢¨æµäººç‰©", a: "è˜‡è»¾ (å¿µå¥´å¬Œï¼Œè±ªæ”¾æ´¾)", tag: ["é«˜äºŒ","å®‹è©"] },
            { q: "å°‹å°‹è¦“è¦“ï¼Œå†·å†·æ¸…æ¸…ï¼Œæ‚½æ‚½æ…˜æ…˜æˆšæˆš", a: "ææ¸…ç…§ (è²è²æ…¢ï¼Œå©‰ç´„æ´¾)", tag: ["é«˜äºŒ","å®‹è©"] },
            { q: "æ¯è—¤è€æ¨¹æ˜é´‰ï¼Œå°æ©‹æµæ°´äººå®¶", a: "é¦¬è‡´é  (å¤©æ·¨æ²™ï¼Œå…ƒæ›²)", tag: ["åœ‹ä¹","å…ƒæ›²"] },
            { q: "ä¸€é¨ç´…å¡µå¦ƒå­ç¬‘ï¼Œç„¡äººçŸ¥æ˜¯è”æä¾†", a: "æœç‰§ (è© å²)", tag: ["é«˜äºŒ","å”è©©"] },

            { q: "èƒŒå½±", a: "æœ±è‡ªæ¸… (çˆ¶æ„›)", tag: ["åœ‹ä¸ƒ","ç¾ä»£æ–‡"] },
            { q: "é›…é‡", a: "å®‹æ™¶å®œ (åŒ…å®¹å°Šé‡)", tag: ["åœ‹ä¸ƒ","ç¾ä»£æ–‡"] },
            { q: "ç´™èˆ¹å°è±¡", a: "æ´ªé†’å¤« (æ¯æ„›)", tag: ["åœ‹ä¸ƒ","ç¾ä»£æ–‡"] },
            { q: "è² è·", a: "å³æ™Ÿ (ç”œèœœçš„è² è·)", tag: ["åœ‹å…«","ç¾ä»£æ–‡"] },
            { q: "é‚£é»˜é»˜çš„ä¸€ç¾¤", a: "å¼µé¨°è›Ÿ (æ¸…é“å¤«)", tag: ["åœ‹å…«","ç¾ä»£æ–‡"] },
            { q: "å­”ä¹™å·±", a: "é­¯è¿… (ç§‘èˆ‰åˆ¶åº¦æ¯’å®³)", tag: ["é«˜ä¸€","ç¾ä»£æ–‡"] },
            { q: "å†åˆ¥åº·æ©‹", a: "å¾å¿—æ‘© (æ–°æœˆæ´¾)", tag: ["é«˜ä¸€","ç¾ä»£æ–‡"] },
            { q: "éŒ¯èª¤ (æˆ‘é”é”çš„é¦¬è¹„)", a: "é„­æ„äºˆ (æµªå­æƒ…æ‡·)", tag: ["é«˜äºŒ","ç¾ä»£æ–‡"] },
            { q: "é«»", a: "ç¦å› (æ‡·èˆŠæ•£æ–‡)", tag: ["é«˜äºŒ","ç¾ä»£æ–‡"] },
            { q: "ç‹¼ä¹‹ç¨æ­¥", a: "ç´€å¼¦ (ç¾ä»£è©©)", tag: ["é«˜ä¸‰","ç¾ä»£æ–‡"] },
            { q: "ä¸€æ¡¿ç¨±ä»”", a: "è³´å’Œ (å°ç£æ–°æ–‡å­¸ä¹‹çˆ¶)", tag: ["é«˜ä¸‰","ç¾ä»£æ–‡"] },
            { q: "å£“ä¸æ‰çš„ç«ç‘°", a: "æ¥Šé€µ (æŠ—æ—¥ç²¾ç¥)", tag: ["é«˜ä¸‰","ç¾ä»£æ–‡"] }
        ];

        const combinations = new Set();
        chiData.forEach(item => {
            if(item.tag && item.tag.length >= 2) {
                const t0 = item.tag[0].trim();
                const t1 = item.tag[1].trim();
                combinations.add(`${t0}_${t1}`);
            }
        });

        combinations.forEach(combo => {
            const [grade, topic] = combo.split('_');
            const pool = chiData.filter(q => q.tag[0].trim() === grade && q.tag[1].trim() === topic);

            if (pool.length > 0) {
                // ------------------------------------------------------------
                // ğŸ› ï¸ V7.2 ä¿®å¾©æ ¸å¿ƒï¼šé›™å‘æ¨™ç±¤è¨»å†Š (Dual-Lock)
                // ------------------------------------------------------------
                const registerTags = [
                    "chinese", 
                    topic, grade,          // é †åº A: è®“ ['æˆèª', 'åœ‹ä¸ƒ'] å‘½ä¸­
                    grade, topic,          // é †åº B: è®“ ['åœ‹ä¸ƒ', 'æˆèª'] å‘½ä¸­
                    "åœ‹æ–‡", "èªæ–‡"
                ];

                G.registerTemplate(`chi_def_${grade}_${topic}`, (ctx, rnd) => {
                    const item = pick(pool);
                    const sameTag = pool.filter(x => x.q !== item.q);
                    const others = chiData.filter(x => x.tag[1] === topic); 
                    
                    let wrongOpts = [];
                    if (sameTag.length >= 3) wrongOpts = shuffle(sameTag).slice(0, 3).map(x => x.a);
                    else wrongOpts = shuffle(others).slice(0, 3).map(x => x.a);
                    
                    const opts = shuffle([item.a, ...wrongOpts]);
                    let qText = "";
                    if (topic === "æˆèª") qText = `ã€Œ${item.q}ã€çš„æ„æ€ç‚ºä½•ï¼Ÿ`;
                    else if (topic === "ä¿®è¾­") qText = `ã€Œ${item.q}ã€ä½¿ç”¨äº†å“ªç¨®ä¿®è¾­ï¼Ÿ`;
                    else if (topic === "å¤æ–‡" || topic === "å”è©©") qText = `ã€Œ${item.q}ã€å‡ºè‡ªä½•è™•æˆ–ä½•äººï¼Ÿ`;
                    else qText = `é—œæ–¼ã€Œ${item.q}ã€ï¼Œä¸‹åˆ—æ•˜è¿°ä½•è€…æ­£ç¢ºï¼Ÿ`;

                    return {
                        question: `ã€${topic}ã€‘${qText}`,
                        options: opts,
                        answer: opts.indexOf(item.a),
                        concept: topic,
                        explanation: [`æ­£ç¢ºç­”æ¡ˆï¼š${item.a}`]
                    };
                }, registerTags); 

                G.registerTemplate(`chi_rev_${grade}_${topic}`, (ctx, rnd) => {
                    const item = pick(pool);
                    const sameTag = pool.filter(x => x.q !== item.q);
                    const others = chiData.filter(x => x.tag[1] === topic);
                    
                    let wrongOpts = [];
                    if (sameTag.length >= 3) wrongOpts = shuffle(sameTag).slice(0, 3).map(x => x.q);
                    else wrongOpts = shuffle(others).slice(0, 3).map(x => x.q);

                    const opts = shuffle([item.q, ...wrongOpts]);
                    let qText = "";
                    if (topic === "æˆèª") qText = `ä¸‹åˆ—å“ªå€‹æˆèªçš„æ„æ€æ˜¯ã€Œ${item.a}ã€ï¼Ÿ`;
                    else if (topic === "ä¿®è¾­") qText = `ä¸‹åˆ—å“ªå€‹å¥å­ä½¿ç”¨äº†ã€Œ${item.a}ã€ï¼Ÿ`;
                    else qText = `ä¸‹åˆ—ä½•è€…ç¬¦åˆã€Œ${item.a}ã€çš„æè¿°ï¼Ÿ`;

                    return {
                        question: `ã€${topic}ã€‘${qText}`,
                        options: opts,
                        answer: opts.indexOf(item.q),
                        concept: topic,
                        explanation: [`ã€Œ${item.q}ã€ï¼š${item.a}`]
                    };
                }, registerTags);
            }
        });

        console.log(`ğŸ‰ åœ‹æ–‡é¡Œåº« (V7.2 Dual-Lock Fix) å·²è¼‰å…¥ï¼è¨»å†Š ${combinations.size * 2} å€‹æ¨¡æ¿ã€‚`);
        
        if(combinations.size > 0) {
             const firstExample = Array.from(combinations)[0];
             const [g, t] = firstExample.split('_');
             console.log(`ğŸ”§ [Debug] V7.2 ç¯„ä¾‹æ¨™ç±¤çµæ§‹: ["chinese", "${t}", "${g}", "${g}", "${t}", ...]`);
        }
    }

    init();
})(window);
