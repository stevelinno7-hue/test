(function(global){
    'use strict';
    
    // 1. 初始化倉庫
    window.__CHEMISTRY_REPO__ = window.__CHEMISTRY_REPO__ || {};

    console.log("🚀 [Chemistry Groups] 化學題組工廠載入中...");

    const Utils = {
        shuffle: (arr) => [...arr].sort(() => Math.random() - 0.5),
        rnd: (min, max) => Math.floor(Math.random() * (max - min + 1)) + min,
        pick: (arr) => arr[Utils.rnd(0, arr.length-1)],
        round: (num, decimal) => Math.round(num * Math.pow(10, decimal)) / Math.pow(10, decimal)
    };

    // ===============================================================
    // 🧪 化學題組生成邏輯 (Group Generator)
    // ===============================================================

    const generateGroup = (index) => {
        // 定義 5 種題組模板，輪流生成
        const type = index % 5; 
        
        let group = {
            type: "group", // 標記為題組
            id: `chem_group_${index}`,
            subject: "chemistry",
            tags: ["化學", "理化", "閱讀題組", "國八", "國九"], // 通用標籤
            context: "",
            questions: []
        };

        // --- 模板 A: 濃度配製與稀釋 ---
        if (type === 0) {
            const solute = Utils.pick([
                {n:"氫氧化鈉", f:"NaOH", w:40}, {n:"葡萄糖", f:"C6H12O6", w:180}, {n:"碳酸鈉", f:"Na2CO3", w:106}
            ]);
            const mole = Utils.rnd(1, 5) / 10; // 0.1 ~ 0.5 mol
            const mass = Utils.round(mole * solute.w, 1);
            const vol = Utils.rnd(200, 500); // mL

            group.context = `
                <div class="group-context-box">
                    <h4>🧪 溶液配製實驗</h4>
                    <p>小明在實驗室中欲配製 <strong>${solute.n} (${solute.f})</strong> 水溶液。</p>
                    <p>他準確稱取了 <strong>${mass} 公克</strong> 的固體，放入燒杯中加水溶解，最後加水至總體積為 <strong>${vol} mL</strong>。</p>
                    <p>(已知 ${solute.n} 的分子量為 ${solute.w})</p>
                </div>
            `;
            
            const M = Utils.round(mole / (vol/1000), 2);
            
            group.questions = [
                { q: `小明共取用了多少莫耳的 ${solute.n}？`, a: `${mole} mol`, o: [`${mole*2} mol`, `${mole/2} mol`, `${mole*10} mol`], t: ["化學", "莫耳數"] },
                { q: `配製出的溶液，其體積莫耳濃度(M)約為多少？`, a: `${M} M`, o: [`${Utils.round(M/2,2)} M`, `${Utils.round(M*2,2)} M`, "無法計算"], t: ["化學", "濃度"] },
                { q: `若再加入 ${vol} mL 的水稀釋，新濃度會變為原本的多少倍？`, a: "0.5 倍", o: ["2 倍", "不變", "0.1 倍"], t: ["化學", "稀釋"] }
            ];
        }

        // --- 模板 B: 化學反應計量 (金屬+酸) ---
        else if (type === 1) {
            const metal = Utils.pick([{n:"鎂", s:"Mg", w:24}, {n:"鋅", s:"Zn", w:65}]);
            const acid = "鹽酸 (HCl)";
            const mass = metal.w; // 取 1 莫耳
            
            group.context = `
                <div class="group-context-box">
                    <h4>🔥 金屬與酸的反應</h4>
                    <p>將 <strong>${mass} 公克</strong> 的金屬 <strong>${metal.n} (${metal.s})</strong> 投入足量的 ${acid} 中，反應劇烈並產生大量氣泡。</p>
                    <p>反應式：${metal.s} + 2HCl → ${metal.s}Cl₂ + H₂</p>
                    <p>(原子量：${metal.n}=${metal.w}, H=1, Cl=35.5)</p>
                </div>
            `;
            
            group.questions = [
                { q: "此反應產生的氣體是？", a: "氫氣", o: ["氧氣", "二氧化碳", "氯氣"], t: ["化學", "氣體性質"] },
                { q: `理論上可生成多少莫耳的氫氣？`, a: "1 mol", o: ["0.5 mol", "2 mol", "無法計算"], t: ["化學", "計量"] },
                { q: "若將產生的氣體收集後靠近火源，會發生什麼現象？", a: "產生爆鳴聲 (淡藍色火焰)", o: ["使線香燃燒更旺", "使火柴熄滅", "產生白色煙霧"], t: ["化學", "實驗現象"] }
            ];
        }

        // --- 模板 C: 酸鹼滴定 ---
        else if (type === 2) {
            const acidVol = 20; // mL
            const baseConc = 0.1; // M
            const baseVol = Utils.rnd(20, 40); // mL (滴定用量)
            // 計算酸濃度: Ma * Va = Mb * Vb -> Ma = (0.1 * baseVol) / 20
            const acidConc = Utils.round((baseConc * baseVol) / acidVol, 2);

            group.context = `
                <div class="group-context-box">
                    <h4>⚖️ 酸鹼滴定實驗</h4>
                    <p>某生利用已知濃度 <strong>${baseConc} M 的氫氧化鈉 (NaOH)</strong> 溶液，來滴定 <strong>${acidVol} mL 的未知濃度鹽酸 (HCl)</strong>。</p>
                    <p>滴定管的讀數顯示，當加入 <strong>${baseVol} mL</strong> 的 NaOH 時，指示劑剛好變色。</p>
                </div>
            `;

            group.questions = [
                { q: "此實驗最適合作為指示劑的是？", a: "酚酞", o: ["石蕊", "紅鳳菜汁", "本氏液"], t: ["化學", "指示劑"] },
                { q: "滴定終點時，錐形瓶內的顏色變化為何？", a: "由無色變為粉紅色", o: ["由粉紅色變為無色", "由紅色變為藍色", "由黃色變為綠色"], t: ["化學", "滴定"] },
                { q: `經計算，該鹽酸溶液的濃度約為多少 M？`, a: `${acidConc} M`, o: [`${Utils.round(acidConc*2,2)} M`, "0.1 M", "無法計算"], t: ["化學", "計量"] }
            ];
        }

        // --- 模板 D: 物質分離與識別 ---
        else if (type === 3) {
            group.context = `
                <div class="group-context-box">
                    <h4>🧂 混合物的分離</h4>
                    <p>實驗桌上有一包混合了 <strong>食鹽 (NaCl)</strong> 與 <strong>細沙 (SiO₂)</strong> 的粉末。</p>
                    <p>小華想將兩者分離，他設計了以下步驟：溶解 → 過濾 → 蒸發。</p>
                </div>
            `;

            group.questions = [
                { q: "「過濾」步驟主要是利用物質的哪種性質差異？", a: "顆粒大小與溶解度", o: ["沸點高低", "密度大小", "磁性有無"], t: ["化學", "分離方法"] },
                { q: "過濾後留在濾紙上的物質是？", a: "細沙", o: ["食鹽", "食鹽水", "濾液"], t: ["化學", "實驗操作"] },
                { q: "最後將濾液倒入蒸發皿加熱，得到白色固體。此過程稱為？", a: "結晶 (蒸發)", o: ["昇華", "蒸餾", "層析"], t: ["化學", "相變"] }
            ];
        }

        // --- 模板 E: 有機化合物 (發酵與酯化) ---
        else {
            group.context = `
                <div class="group-context-box">
                    <h4>🍷 釀酒與香料</h4>
                    <p>葡萄糖 (C₆H₁₂O₆) 在酵母菌作用下發酵可產生乙醇 (酒精)。</p>
                    <p>若將乙醇與乙酸 (CH₃COOH) 加入濃硫酸共熱，則會產生具有水果香味的物質。</p>
                </div>
            `;

            group.questions = [
                { q: "葡萄糖發酵除了產生乙醇外，還會釋放出哪種氣體？", a: "二氧化碳", o: ["氧氣", "氫氣", "一氧化碳"], t: ["化學", "發酵"] },
                { q: "乙醇與乙酸反應生成的有香味物質屬於哪一類？", a: "酯類", o: ["醚類", "醛類", "酮類"], t: ["化學", "有機反應"] },
                { q: "在此反應中，加入濃硫酸的主要作用是？", a: "催化劑與脫水劑", o: ["氧化劑", "還原劑", "溶劑"], t: ["化學", "催化劑"] }
            ];
        }

        return group;
    };
// ===============================================================
// 🧪 擴充化學題組 60 連發 (Hand-Crafted Extension)
// 範圍：物質、原子、反應、溶液、酸鹼、氧化、有機、環境
// ===============================================================

const extensionChemGroups = [
    // --- 單元：物質的分類與分離 (1-5) ---
    { type: "group", id: "chem_ext_01", context: "<h4>☕ 咖啡的過濾</h4><p>小明用濾紙過濾剛煮好的咖啡，濾紙上留下了咖啡渣，杯中則是黑咖啡。</p>", questions: [
        { q: "此分離方法稱為？", a: "過濾法", o: ["蒸餾法", "結晶法", "層析法"], t: ["化學","分離"] },
        { q: "此方法利用了物質的何種性質差異？", a: "顆粒大小", o: ["沸點高低", "溶解度大小", "密度大小"], t: ["化學","原理"] },
        { q: "杯中的黑咖啡屬於？", a: "混合物", o: ["純物質", "元素", "化合物"], t: ["化學","物質分類"] }
    ]},
    { type: "group", id: "chem_ext_02", context: "<h4>🧂 曬鹽</h4><p>台南七股鹽田引進海水，經由陽光曝曬，水分蒸發後得到粗鹽。</p>", questions: [
        { q: "此過程利用物質的何種性質？", a: "沸點不同", o: ["溶解度不同", "顆粒大小", "磁性"], t: ["化學","分離"] },
        { q: "留下的粗鹽主要成分是？", a: "氯化鈉", o: ["碳酸鈣", "硫酸鈣", "氯化鎂"], t: ["化學","成分"] },
        { q: "此過程屬於？", a: "物理變化", o: ["化學變化", "核反應", "無法判斷"], t: ["化學","變化"] }
    ]},
    { type: "group", id: "chem_ext_03", context: "<h4>🎨 彩色筆的秘密</h4><p>小華將黑色彩色筆畫在濾紙端點，並浸入水中，發現黑色散開成藍、紅、黃等色帶。</p>", questions: [
        { q: "此實驗方法稱為？", a: "層析法", o: ["過濾法", "蒸餾法", "萃取法"], t: ["化學","分離"] },
        { q: "分離的原理是利用色素的？", a: "附著力與溶解度不同", o: ["沸點不同", "密度不同", "顆粒大小"], t: ["化學","原理"] },
        { q: "跑得最遠的色素代表？", a: "對水溶解度較大", o: ["對濾紙附著力較大", "分子量最大", "顏色最深"], t: ["化學","分析"] }
    ]},
    { type: "group", id: "chem_ext_04", context: "<h4>🥃 釀酒與蒸餾</h4><p>發酵後的酒液含有酒精與水，加熱收集氣體冷凝後可提高酒精濃度。</p>", questions: [
        { q: "收集到的液體，其酒精濃度比原酒液？", a: "高", o: ["低", "相同", "無法比較"], t: ["化學","蒸餾"] },
        { q: "這是利用酒精與水的何種性質差異？", a: "沸點 (酒精 < 水)", o: ["沸點 (酒精 > 水)", "密度", "溶解度"], t: ["化學","原理"] },
        { q: "收集液體時，冷凝管的冷水應如何通入？", a: "下進上出", o: ["上進下出", "皆可", "不需通水"], t: ["化學","實驗操作"] }
    ]},
    { type: "group", id: "chem_ext_05", context: "<h4>🔥 鎂帶燃燒</h4><p>鎂帶在空氣中燃燒發出強光，生成白色粉末。</p>", questions: [
        { q: "此白色粉末是？", a: "氧化鎂", o: ["碳酸鎂", "氫氧化鎂", "氯化鎂"], t: ["化學","反應"] },
        { q: "將粉末溶於水，以石蕊試紙測試呈？", a: "藍色 (鹼性)", o: ["紅色 (酸性)", "不變色", "黃色"], t: ["化學","酸鹼"] },
        { q: "此反應屬於？", a: "化合反應 (氧化)", o: ["分解反應", "置換反應", "中和反應"], t: ["化學","反應類型"] }
    ]},

    // --- 單元：原子結構與週期表 (6-12) ---
    { type: "group", id: "chem_ext_06", context: "<h4>⚛️ 原子的構造</h4><p>原子由原子核與核外電子組成，原子核內有質子與中子。</p>", questions: [
        { q: "決定原子種類（原子序）的是？", a: "質子數", o: ["中子數", "電子數", "質量數"], t: ["化學","原子"] },
        { q: "原子的質量主要集中在？", a: "原子核", o: ["電子", "電子雲", "平均分佈"], t: ["化學","結構"] },
        { q: "關於中性原子，下列關係何者正確？", a: "質子數 = 電子數", o: ["質子數 = 中子數", "中子數 = 電子數", "質量數 = 電子數"], t: ["化學","電性"] }
    ]},
    { type: "group", id: "chem_ext_07", context: "<h4>👯 同位素</h4><p>碳-12 與 碳-14 是碳元素的同位素。</p>", questions: [
        { q: "兩者具有相同的？", a: "質子數", o: ["中子數", "質量數", "物理性質"], t: ["化學","同位素"] },
        { q: "兩者的化學性質？", a: "幾乎相同", o: ["完全不同", "碳-14較活潑", "碳-12較活潑"], t: ["化學","性質"] },
        { q: "碳-14 常用於？", a: "地質年代測定", o: ["核能發電", "製造鑽石", "淨化水質"], t: ["化學","應用"] }
    ]},
    { type: "group", id: "chem_ext_08", context: "<h4>📊 週期表</h4><p>門得列夫建立了元素週期表，後來莫斯利加以修正。</p>", questions: [
        { q: "現代週期表是依據什麼排列？", a: "原子序", o: ["原子量", "密度", "發現順序"], t: ["化學","週期表"] },
        { q: "週期表的縱行稱為？", a: "族 (具有相似化學性質)", o: ["週期", "列", "區"], t: ["化學","族"] },
        { q: "第 18 族元素 (He, Ne, Ar) 被稱為？", a: "鈍氣 (高貴氣體)", o: ["鹵素", "鹼金屬", "鹼土金屬"], t: ["化學","元素分類"] }
    ]},
    { type: "group", id: "chem_ext_09", context: "<h4>💥 鹼金屬</h4><p>將一小塊鈉投入水中，鈉會在水面上快速移動並產生氣體。</p>", questions: [
        { q: "產生的氣體是？", a: "氫氣", o: ["氧氣", "氯氣", "水蒸氣"], t: ["化學","反應"] },
        { q: "反應後的水溶液呈？", a: "鹼性", o: ["酸性", "中性", "無法預測"], t: ["化學","酸鹼"] },
        { q: "保存鈉金屬應放在？", a: "礦物油 (石油醚) 中", o: ["水中", "酒精中", "空氣中"], t: ["化學","保存"] }
    ]},
    { type: "group", id: "chem_ext_10", context: "<h4>🧪 離子的形成</h4><p>鈉原子 (Na) 失去一個電子變成鈉離子 (Na⁺)。</p>", questions: [
        { q: "鈉離子的質子數與電子數關係？", a: "質子數 > 電子數", o: ["質子數 < 電子數", "質子數 = 電子數", "無法比較"], t: ["化學","離子"] },
        { q: "鈉離子的電子排列與哪種原子相同？", a: "氖 (Ne)", o: ["氬 (Ar)", "鎂 (Mg)", "鋰 (Li)"], t: ["化學","電子組態"] },
        { q: "一般而言，金屬原子容易？", a: "失去電子形成陽離子", o: ["得到電子形成陰離子", "共用電子", "不反應"], t: ["化學","性質"] }
    ]},
    { type: "group", id: "chem_ext_11", context: "<h4>💧 水的組成</h4><p>水 (H₂O) 是由氫與氧組成的化合物。</p>", questions: [
        { q: "氫與氧的原子數比為？", a: "2 : 1", o: ["1 : 2", "1 : 8", "1 : 16"], t: ["化學","分子"] },
        { q: "氫與氧的質量比為？", a: "1 : 8", o: ["2 : 1", "1 : 16", "1 : 1"], t: ["化學","定比定律"] },
        { q: "利用電解水實驗可證明？", a: "水是化合物", o: ["水是混合物", "水是元素", "水有導電性"], t: ["化學","實驗"] }
    ]},
    { type: "group", id: "chem_ext_12", context: "<h4>🌫️ 乾冰</h4><p>舞台上使用的乾冰是固態二氧化碳。</p>", questions: [
        { q: "乾冰直接變成氣體的過程稱為？", a: "昇華", o: ["凝華", "蒸發", "熔化"], t: ["化學","狀態變化"] },
        { q: "舞台上的白霧是？", a: "空氣中的水蒸氣凝結成的小水滴", o: ["二氧化碳氣體", "乾冰粉末", "煙霧"], t: ["化學","現象"] },
        { q: "二氧化碳在常溫常壓下是？", a: "無色無味氣體", o: ["有毒氣體", "藍色液體", "白色固體"], t: ["化學","性質"] }
    ]},

    // --- 單元：化學計量與反應 (13-20) ---
    { type: "group", id: "chem_ext_13", context: "<h4>⚖️ 化學反應式平衡</h4><p>觀察反應式：a C₃H₈ + b O₂ → c CO₂ + d H₂O</p>", questions: [
        { q: "平衡後的係數 b 是多少？", a: "5", o: ["3", "4", "1"], t: ["化學","平衡"] },
        { q: "若有 1 莫耳丙烷反應，產生多少莫耳水？", a: "4 mol", o: ["3 mol", "5 mol", "1 mol"], t: ["化學","計量"] },
        { q: "此反應為？", a: "燃燒反應 (放熱)", o: ["吸熱反應", "中和反應", "沉澱反應"], t: ["化學","反應"] }
    ]},
    { type: "group", id: "chem_ext_14", context: "<h4>🍬 莫耳的概念</h4><p>1 莫耳的碳-12 原子質量為 12 公克。</p>", questions: [
        { q: "1 莫耳含有多少個粒子？", a: "6 × 10²³ (亞佛加厥數)", o: ["10⁶", "12", "100"], t: ["化學","莫耳"] },
        { q: "36 公克的水 (H₂O) 是幾莫耳？(H=1, O=16)", a: "2 mol", o: ["1 mol", "0.5 mol", "18 mol"], t: ["化學","計算"] },
        { q: "下列何者質量最大？", a: "1 莫耳的金 (Au)", o: ["1 莫耳的水", "1 莫耳的氫氣", "1 莫耳的鋁"], t: ["化學","質量比較"] }
    ]},
    { type: "group", id: "chem_ext_15", context: "<h4>🥖 雙氧水製氧</h4><p>利用雙氧水 (H₂O₂) 加入二氧化錳 (MnO₂) 製備氧氣。</p>", questions: [
        { q: "二氧化錳的角色是？", a: "催化劑", o: ["反應物", "產物", "溶劑"], t: ["化學","催化劑"] },
        { q: "催化劑的主要功能是？", a: "改變反應速率", o: ["增加產量", "改變反應熱", "使反應逆轉"], t: ["化學","性質"] },
        { q: "收集氧氣通常使用？", a: "排水集氣法", o: ["向上排氣法", "向下排氣法", "冷凝法"], t: ["化學","實驗"] }
    ]},
    { type: "group", id: "chem_ext_16", context: "<h4>🥚 雞蛋與醋</h4><p>將生雞蛋浸泡在醋中，蛋殼會冒出氣泡並逐漸消失。</p>", questions: [
        { q: "蛋殼的主要成分是？", a: "碳酸鈣", o: ["硫酸鈣", "二氧化矽", "蛋白質"], t: ["化學","成分"] },
        { q: "產生的氣泡是？", a: "二氧化碳", o: ["氫氣", "氧氣", "氮氣"], t: ["化學","反應"] },
        { q: "此反應屬於酸與什麼的反應？", a: "碳酸鹽", o: ["金屬", "鹼", "活性大的金屬"], t: ["化學","性質"] }
    ]},
    { type: "group", id: "chem_ext_17", context: "<h4>🔥 質量守恆</h4><p>密閉容器內，將蠟燭燃燒殆盡。</p>", questions: [
        { q: "反應前後，容器內的總質量？", a: "不變", o: ["變輕", "變重", "先重後輕"], t: ["化學","定律"] },
        { q: "這驗證了哪位科學家的定律？", a: "拉瓦節", o: ["道耳頓", "普魯斯特", "亞佛加厥"], t: ["化學","化學史"] },
        { q: "若在開放系統燃燒鋼絲絨，質量會？", a: "變重 (結合氧)", o: ["變輕", "不變", "消失"], t: ["化學","實驗"] }
    ]},
    { type: "group", id: "chem_ext_18", context: "<h4>🌡️ 溫度與反應速率</h4><p>夏天食物容易腐敗，冬天則較慢。</p>", questions: [
        { q: "這顯示反應速率與什麼有關？", a: "溫度", o: ["濃度", "催化劑", "表面積"], t: ["化學","速率"] },
        { q: "溫度升高，反應速率通常？", a: "變快", o: ["變慢", "不變", "歸零"], t: ["化學","性質"] },
        { q: "將肉切成肉絲比整塊肉更容易煮熟，是因為？", a: "表面積增加", o: ["濃度增加", "溫度增加", "催化劑增加"], t: ["化學","因素"] }
    ]},
    { type: "group", id: "chem_ext_19", context: "<h4>⚖️ 化學平衡</h4><p>在密閉針筒中裝入紅棕色的 NO₂ 氣體：2NO₂ ⇌ N₂O₄ + 熱 (N₂O₄為無色)。</p>", questions: [
        { q: "將針筒浸入熱水中，氣體顏色會？", a: "變深 (向左移動)", o: ["變淺 (向右移動)", "不變", "變成藍色"], t: ["化學","平衡"] },
        { q: "壓縮針筒體積 (壓力變大)，平衡將？", a: "向係數和較小的一方移動 (向右)", o: ["向係數和較大的一方移動", "不移動", "無法預測"], t: ["化學","壓力"] },
        { q: "壓縮瞬間，顏色會先變深，是因為？", a: "濃度瞬間變大", o: ["平衡移動", "溫度升高", "氣體液化"], t: ["化學","現象"] }
    ]},
    { type: "group", id: "chem_ext_20", context: "<h4>🧨 灰塵爆炸</h4><p>麵粉廠嚴禁火源，因高濃度粉塵極易爆炸。</p>", questions: [
        { q: "粉塵容易爆炸的主因是？", a: "總表面積極大，反應速率極快", o: ["溫度過高", "粉塵本身是炸藥", "催化劑作用"], t: ["化學","速率"] },
        { q: "這與下列何者原理相同？", a: "將木材劈成小片更容易燃燒", o: ["冰箱保存食物", "加酶分解", "真空包裝"], t: ["化學","類比"] },
        { q: "燃燒的三要素是？", a: "可燃物、助燃物、達燃點", o: ["可燃物、氧氣、高壓", "燃料、溫度、催化劑", "氫氣、氧氣、火花"], t: ["化學","原理"] }
    ]},

    // --- 單元：溶液與溶解度 (21-25) ---
    { type: "group", id: "chem_ext_21", context: "<h4>💧 溶解度曲線</h4><p>硝酸鉀在高溫溶解度大，食鹽則隨溫度變化不大。</p>", questions: [
        { q: "欲提純混有少量食鹽的硝酸鉀，最佳方法是？", a: "再結晶法 (降溫結晶)", o: ["過濾法", "蒸餾法", "電解法"], t: ["化學","分離"] },
        { q: "汽水開瓶後冒泡，顯示氣體溶解度隨壓力降低而？", a: "變小", o: ["變大", "不變", "無關"], t: ["化學","氣體溶解度"] },
        { q: "煮沸過的水不適合養魚，是因為？", a: "溶氧量減少 (高溫氣體溶解度小)", o: ["細菌被殺死", "礦物質沉澱", "pH值改變"], t: ["化學","生活"] }
    ]},
    { type: "group", id: "chem_ext_22", context: "<h4>🧪 濃度的表示</h4><p>市售雙氧水標示 3% (W/W)。</p>", questions: [
        { q: "這代表？", a: "100g 溶液中含有 3g 過氧化氫", o: ["100mL 溶液中含有 3g 過氧化氫", "100g 水中溶有 3g 過氧化氫", "莫耳濃度為 3M"], t: ["化學","濃度"] },
        { q: "百萬分點濃度 (ppm) 常用於表示？", a: "極稀薄溶液 (如污染物)", o: ["飽和溶液", "強酸溶液", "合金"], t: ["化學","單位"] },
        { q: "1 ppm 代表？", a: "一百萬公克溶液中含有 1 公克溶質", o: ["一公斤溶液含有 1 莫耳溶質", "百分之一", "千分之一"], t: ["化學","定義"] }
    ]},
    { type: "group", id: "chem_ext_23", context: "<h4>🌡️ 飽和溶液</h4><p>杯底還有未溶解糖的糖水。</p>", questions: [
        { q: "此溶液目前處於？", a: "飽和狀態", o: ["未飽和狀態", "過飽和狀態", "稀溶液"], t: ["化學","狀態"] },
        { q: "若加熱使杯底的糖剛好完全溶解，此時為？", a: "飽和溶液", o: ["未飽和", "過飽和", "無法判斷"], t: ["化學","溶解度"] },
        { q: "定溫下，飽和溶液的濃度？", a: "固定不變", o: ["隨水量增加而變大", "隨攪拌而變大", "隨時間變小"], t: ["化學","性質"] }
    ]},
    { type: "group", id: "chem_ext_24", context: "<h4>💡 電解質</h4><p>食鹽水可導電，糖水不可導電。</p>", questions: [
        { q: "食鹽屬於電解質，溶於水會解離出？", a: "可以自由移動的離子", o: ["電子", "原子", "分子"], t: ["化學","解離"] },
        { q: "食鹽水導電時，正離子會移向？", a: "負極", o: ["正極", "不動", "隨機移動"], t: ["化學","導電"] },
        { q: "下列何者也是電解質？", a: "醋酸", o: ["酒精", "葡萄糖", "銅片"], t: ["化學","判斷"] }
    ]},
    { type: "group", id: "chem_ext_25", context: "<h4>🌬️ 空氣的組成</h4><p>乾燥空氣中含有多種氣體。</p>", questions: [
        { q: "含量最多的氣體是？", a: "氮氣 (約78%)", o: ["氧氣", "氬氣", "二氧化碳"], t: ["化學","空氣"] },
        { q: "含量第三名的惰性氣體是？", a: "氬氣", o: ["氦氣", "氖氣", "氙氣"], t: ["化學","成分"] },
        { q: "造成溫室效應的主要氣體是？", a: "二氧化碳", o: ["氧氣", "氮氣", "氫氣"], t: ["化學","環境"] }
    ]},

    // --- 單元：酸鹼鹽 (26-35) ---
    { type: "group", id: "chem_ext_26", context: "<h4>🍋 常見的酸</h4><p>硫酸具有強烈的脫水性，能使方糖變黑。</p>", questions: [
        { q: "工業之母是指？", a: "硫酸", o: ["鹽酸", "硝酸", "醋酸"], t: ["化學","酸"] },
        { q: "胃酸的主要成分是？", a: "鹽酸 (HCl)", o: ["硫酸", "磷酸", "醋酸"], t: ["化學","生理"] },
        { q: "硝酸照光容易分解產生有毒的紅棕色氣體，那是？", a: "二氧化氮", o: ["一氧化氮", "氧氣", "氫氣"], t: ["化學","性質"] }
    ]},
    { type: "group", id: "chem_ext_27", context: "<h4>🧼 常見的鹼</h4><p>氫氧化鈉 (NaOH) 俗稱燒鹼，易潮解。</p>", questions: [
        { q: "氫氧化鈉溶於水會？", a: "放熱", o: ["吸熱", "不變", "結冰"], t: ["化學","性質"] },
        { q: "石灰水是哪種物質的水溶液？", a: "氫氧化鈣", o: ["碳酸鈣", "氧化鈣", "硫酸鈣"], t: ["化學","俗名"] },
        { q: "氨氣溶於水呈？", a: "弱鹼性", o: ["強鹼性", "酸性", "中性"], t: ["化學","氨水"] }
    ]},
    { type: "group", id: "chem_ext_28", context: "<h4>🧪 pH 值</h4><p>pH 值是用來表示溶液的酸鹼程度。</p>", questions: [
        { q: "中性溶液 (25°C) 的 pH 值為？", a: "7", o: ["0", "14", "1"], t: ["化學","pH"] },
        { q: "pH = 3 的溶液，其氫離子濃度是 pH = 5 的幾倍？", a: "100 倍", o: ["2 倍", "20 倍", "1000 倍"], t: ["化學","計算"] },
        { q: "pH 值越小，代表？", a: "酸性越強", o: ["鹼性越強", "中性", "濃度越小"], t: ["化學","觀念"] }
    ]},
    { type: "group", id: "chem_ext_29", context: "<h4>🌈 酸鹼指示劑</h4><p>廣用試劑滴入酸中呈紅色，滴入鹼中呈藍紫色。</p>", questions: [
        { q: "酚酞指示劑在酸性溶液中呈？", a: "無色", o: ["紅色", "藍色", "黃色"], t: ["化學","指示劑"] },
        { q: "酚酞在鹼性溶液中呈？", a: "紅色", o: ["無色", "藍色", "黃色"], t: ["化學","變色"] },
        { q: "石蕊試紙由藍變紅，代表溶液是？", a: "酸性", o: ["鹼性", "中性", "無法判斷"], t: ["化學","試紙"] }
    ]},
    { type: "group", id: "chem_ext_30", context: "<h4>🤝 酸鹼中和</h4><p>鹽酸與氫氧化鈉反應：HCl + NaOH → NaCl + H₂O。</p>", questions: [
        { q: "中和反應必定會產生？", a: "鹽與水", o: ["酸與鹼", "氣體", "沉澱"], t: ["化學","產物"] },
        { q: "中和反應屬於？", a: "放熱反應 (溫度升高)", o: ["吸熱反應", "常溫反應", "光化學反應"], t: ["化學","熱量"] },
        { q: "實際應用：被蜜蜂 (甲酸) 螫傷，可塗抹？", a: "氨水 (弱鹼)", o: ["醋", "食鹽水", "檸檬汁"], t: ["化學","應用"] }
    ]},
    { type: "group", id: "chem_ext_31", context: "<h4>🧂 常見的鹽類</h4><p>碳酸鈉 (蘇打) 與碳酸氫鈉 (小蘇打)。</p>", questions: [
        { q: "烘焙用的發粉主要含有？", a: "碳酸氫鈉", o: ["碳酸鈉", "氯化鈉", "硫酸鈣"], t: ["化學","應用"] },
        { q: "碳酸鈣在自然界中以何種形式存在？", a: "大理岩、貝殼、蛋殼", o: ["水晶", "鑽石", "花岡岩"], t: ["化學","礦物"] },
        { q: "硫酸鈣是哪種材料的主要成分？", a: "石膏", o: ["水泥", "玻璃", "陶瓷"], t: ["化學","材料"] }
    ]},
    { type: "group", id: "chem_ext_32", context: "<h4>🔥 乾粉滅火器</h4><p>主要成分是碳酸氫鈉與氮氣鋼瓶。</p>", questions: [
        { q: "滅火時，碳酸氫鈉受熱分解產生？", a: "二氧化碳 (隔絕氧氣)", o: ["氧氣", "氫氣", "一氧化碳"], t: ["化學","滅火"] },
        { q: "此反應屬於？", a: "吸熱分解", o: ["放熱燃燒", "氧化還原", "中和"], t: ["化學","反應"] },
        { q: "不能用於撲滅哪種火災？", a: "金屬火災 (活性大金屬)", o: ["油類火災", "電器火災", "普通火災"], t: ["化學","安全"] }
    ]},
    { type: "group", id: "chem_ext_33", context: "<h4>🌡️ 酸雨</h4><p>雨水 pH 值小於 5.0 稱為酸雨。</p>", questions: [
        { q: "造成酸雨的主要氣體是？", a: "二氧化硫與氮氧化物", o: ["二氧化碳", "甲烷", "臭氧"], t: ["化學","環境"] },
        { q: "正常雨水略呈酸性，是因為溶有？", a: "二氧化碳 (碳酸)", o: ["灰塵", "氧氣", "氮氣"], t: ["化學","性質"] },
        { q: "酸雨對湖泊的主要影響？", a: "酸化導致魚類死亡", o: ["優養化", "水位上升", "結冰"], t: ["化學","生態"] }
    ]},
    { type: "group", id: "chem_ext_34", context: "<h4>💧 硬水與軟水</h4><p>含有較多鈣、鎂離子的水稱為硬水。</p>", questions: [
        { q: "煮沸硬水會產生？", a: "鍋垢 (碳酸鈣/鎂沉澱)", o: ["泡沫", "香氣", "毒素"], t: ["化學","水質"] },
        { q: "肥皂在硬水中？", a: "洗淨力下降 (產生浮渣)", o: ["洗淨力增強", "產生更多泡沫", "無影響"], t: ["化學","清潔"] },
        { q: "利用離子交換樹脂可以？", a: "軟化硬水", o: ["消毒殺菌", "過濾病毒", "增加含氧量"], t: ["化學","處理"] }
    ]},
    { type: "group", id: "chem_ext_35", context: "<h4>🏭 哈伯法製氨</h4><p>N₂ + 3H₂ ⇌ 2NH₃，在鐵催化劑、高溫高壓下進行。</p>", questions: [
        { q: "氨氣的主要用途是製造？", a: "肥料 (硫酸銨)", o: ["塑膠", "玻璃", "水泥"], t: ["化學","工業"] },
        { q: "氨氣具有？", a: "刺鼻臭味，易溶於水", o: ["香味，難溶於水", "無味，難溶於水", "甜味，易溶於水"], t: ["化學","性質"] },
        { q: "實驗室收集氨氣應採用？", a: "向下排氣法 (比空氣輕)", o: ["向上排氣法", "排水集氣法", "加壓法"], t: ["化學","實驗"] }
    ]},

    // --- 單元：氧化還原 (36-45) ---
    { type: "group", id: "chem_ext_36", context: "<h4>🔩 鐵生鏽</h4><p>鐵在潮濕空氣中容易生鏽 (Fe₂O₃)。</p>", questions: [
        { q: "鐵生鏽屬於？", a: "氧化反應", o: ["還原反應", "中和反應", "物理變化"], t: ["化學","氧化"] },
        { q: "生鏽的必要條件是？", a: "氧氣與水", o: ["氮氣與水", "二氧化碳與光", "高溫"], t: ["化學","條件"] },
        { q: "馬口鐵 (鍍錫) 防鏽原理？", a: "隔絕空氣與水", o: ["犧牲陽極保護", "形成緻密氧化層", "降低活性"], t: ["化學","防鏽"] }
    ]},
    { type: "group", id: "chem_ext_37", context: "<h4>🔥 氧化還原定義</h4><p>廣義的氧化還原涉及電子的得失。</p>", questions: [
        { q: "失去電子稱為？", a: "氧化", o: ["還原", "中和", "解離"], t: ["化學","定義"] },
        { q: "得到電子稱為？", a: "還原", o: ["氧化", "催化", "燃燒"], t: ["化學","定義"] },
        { q: "氧化劑本身會？", a: "還原 (得到電子)", o: ["氧化", "不變", "分解"], t: ["化學","角色"] }
    ]},
    { type: "group", id: "chem_ext_38", context: "<h4>🧨 活性大小</h4><p>金屬活性：K > Na > Mg > Al > Zn > Fe > Cu > Au。</p>", questions: [
        { q: "活性大的金屬？", a: "易氧化，是強還原劑", o: ["易還原，是強氧化劑", "不易反應", "安定"], t: ["化學","活性"] },
        { q: "鋁活性比鐵大，但較不易鏽蝕，是因為？", a: "表面生成緻密氧化層保護", o: ["鋁比較硬", "鋁不導電", "鋁不與氧反應"], t: ["化學","性質"] },
        { q: "黃金飾品不易變色，是因為？", a: "活性極小，呈元素態存在", o: ["活性大", "人工上色", "常打蠟"], t: ["化學","金屬"] }
    ]},
    { type: "group", id: "chem_ext_39", context: "<h4>🔋 鋅銅電池</h4><p>鋅片、銅片放入電解質溶液中，中間用鹽橋連接。</p>", questions: [
        { q: "電子流方向為？", a: "由鋅 (負極) 流向銅 (正極)", o: ["由銅流向鋅", "由鹽橋流動", "不動"], t: ["化學","電池"] },
        { q: "鹽橋的功能是？", a: "溝通電路並維持電中性", o: ["傳遞電子", "提供電壓", "催化反應"], t: ["化學","鹽橋"] },
        { q: "負極反應式？", a: "Zn → Zn²⁺ + 2e⁻", o: ["Cu²⁺ + 2e⁻ → Cu", "Zn²⁺ + 2e⁻ → Zn", "Cu → Cu²⁺ + 2e⁻"], t: ["化學","半反應"] }
    ]},
    { type: "group", id: "chem_ext_40", context: "<h4>⚡ 電解水</h4><p>在水中加入少量氫氧化鈉導電，通入直流電。</p>", questions: [
        { q: "正極產生的氣體是？", a: "氧氣", o: ["氫氣", "氯氣", "氮氣"], t: ["化學","電解"] },
        { q: "負極產生的氣體是？", a: "氫氣", o: ["氧氣", "氯氣", "氨氣"], t: ["化學","電解"] },
        { q: "氫氣與氧氣的體積比約為？", a: "2 : 1", o: ["1 : 2", "1 : 8", "8 : 1"], t: ["化學","數據"] }
    ]},
    { type: "group", id: "chem_ext_41", context: "<h4>🏭 電解精煉銅</h4><p>利用電解純化粗銅。</p>", questions: [
        { q: "粗銅應接在？", a: "正極 (氧化溶解)", o: ["負極", "鹽橋", "地線"], t: ["化學","精煉"] },
        { q: "純銅會析出在？", a: "負極", o: ["正極", "底部", "液面"], t: ["化學","現象"] },
        { q: "電解液應使用？", a: "硫酸銅溶液", o: ["硫酸鋅溶液", "鹽酸", "純水"], t: ["化學","電解液"] }
    ]},
    { type: "group", id: "chem_ext_42", context: "<h4>🔧 電鍍</h4><p>在鐵湯匙表面鍍上一層銅。</p>", questions: [
        { q: "被鍍物 (鐵湯匙) 應接在？", a: "負極", o: ["正極", "皆可", "不需接電"], t: ["化學","電鍍"] },
        { q: "鍍金屬 (銅片) 應接在？", a: "正極", o: ["負極", "懸空", "底部"], t: ["化學","操作"] },
        { q: "電鍍液濃度在過程中？", a: "大致不變 (陽極補充離子)", o: ["快速下降", "快速上升", "變色"], t: ["化學","濃度"] }
    ]},
    { type: "group", id: "chem_ext_43", context: "<h4>🧪 漂白劑</h4><p>分為氧系 (過氧化氫) 與氯系 (次氯酸鈉)。</p>", questions: [
        { q: "漂白作用是利用？", a: "氧化還原", o: ["酸鹼中和", "沉澱", "物理吸附"], t: ["化學","原理"] },
        { q: "二氧化硫 (SO₂) 也能漂白 (如免洗筷)，屬於？", a: "還原漂白", o: ["氧化漂白", "物理漂白", "覆蓋漂白"], t: ["化學","分類"] },
        { q: "還原漂白的缺點是？", a: "易氧化復原 (變黃)", o: ["毒性太強", "無法漂白", "太貴"], t: ["化學","性質"] }
    ]},
    { type: "group", id: "chem_ext_44", context: "<h4>🍎 抗氧化劑</h4><p>食品中常添加維生素 C 或 E。</p>", questions: [
        { q: "抗氧化劑本身是？", a: "還原劑 (自我犧牲氧化)", o: ["氧化劑", "催化劑", "防腐劑"], t: ["化學","食品"] },
        { q: "目的是保護食品不被？", a: "氧氣氧化變質", o: ["細菌分解", "水分蒸發", "光線照射"], t: ["化學","目的"] },
        { q: "胡蘿蔔素也是一種？", a: "抗氧化劑", o: ["氧化劑", "漂白劑", "甜味劑"], t: ["化學","成分"] }
    ]},
    { type: "group", id: "chem_ext_45", context: "<h4>🌋 鋁熱反應</h4><p>鋁粉與氧化鐵混合點燃：2Al + Fe₂O₃ → Al₂O₃ + 2Fe + 熱。</p>", questions: [
        { q: "此反應極為劇烈並？", a: "放出大量熱 (熔鐵)", o: ["吸收大量熱", "產生冷氣", "無熱量變化"], t: ["化學","熱化學"] },
        { q: "還原劑是？", a: "鋁 (搶走氧)", o: ["鐵", "氧化鐵", "氧化鋁"], t: ["化學","角色"] },
        { q: "常應用於？", a: "焊接鐵軌", o: ["製造飛機", "食品加熱", "冷氣機"], t: ["化學","應用"] }
    ]},

    // --- 單元：有機化學 (46-55) ---
    { type: "group", id: "chem_ext_46", context: "<h4>🔥 烴類 (碳氫化合物)</h4><p>甲烷 (CH₄) 與丙烷 (C₃H₈)。</p>", questions: [
        { q: "天然氣的主要成分是？", a: "甲烷", o: ["丙烷", "丁烷", "乙烯"], t: ["化學","能源"] },
        { q: "液化石油氣 (瓦斯桶) 主要成分是？", a: "丙烷與丁烷", o: ["甲烷", "乙炔", "氫氣"], t: ["化學","生活"] },
        { q: "烴類完全燃燒產物為？", a: "二氧化碳與水", o: ["一氧化碳與氫", "碳與氫", "氧氣與水"], t: ["化學","燃燒"] }
    ]},
    { type: "group", id: "chem_ext_47", context: "<h4>🍷 醇類</h4><p>乙醇 (C₂H₅OH) 是酒的主要成分。</p>", questions: [
        { q: "變性酒精是加入有毒的？", a: "甲醇 (木精)", o: ["乙酸", "丙酮", "乙醚"], t: ["化學","酒精"] },
        { q: "工業酒精塗染成紅色是為了？", a: "區別並警示不可飲用", o: ["美觀", "增加燃燒效率", "防腐"], t: ["化學","安全"] },
        { q: "乙醇水溶液呈？", a: "中性", o: ["酸性", "鹼性", "強酸性"], t: ["化學","性質"] }
    ]},
    { type: "group", id: "chem_ext_48", context: "<h4>🌿 有機酸</h4><p>乙酸 (CH₃COOH) 俗稱醋酸。</p>", questions: [
        { q: "食用醋約含多少乙酸？", a: "3~5%", o: ["50%", "99%", "0.1%"], t: ["化學","生活"] },
        { q: "純乙酸在低溫凝固，故又稱？", a: "冰醋酸", o: ["乾冰", "雪醋酸", "固體酸"], t: ["化學","俗名"] },
        { q: "被螞蟻叮咬分泌的是？", a: "甲酸 (蟻酸)", o: ["乙酸", "鹽酸", "硫酸"], t: ["化學","酸"] }
    ]},
    { type: "group", id: "chem_ext_49", context: "<h4>🍓 酯類</h4><p>酯化反應：酸 + 醇 → 酯 + 水。</p>", questions: [
        { q: "酯類通常具有？", a: "水果香味，難溶於水", o: ["臭味，易溶於水", "酸味，易溶於水", "無味"], t: ["化學","性質"] },
        { q: "密度比水？", a: "小 (浮在水面)", o: ["大", "相同", "無法比較"], t: ["化學","密度"] },
        { q: "動植物油脂屬於？", a: "酯類", o: ["醇類", "酸類", "烴類"], t: ["化學","分類"] }
    ]},
    { type: "group", id: "chem_ext_50", context: "<h4>🧼 肥皂與清潔劑</h4><p>肥皂由油脂與鹼共煮製成 (皂化)。</p>", questions: [
        { q: "肥皂分子的結構特色？", a: "具親油端與親水端", o: ["只有親油端", "只有親水端", "是球形的"], t: ["化學","結構"] },
        { q: "合成清潔劑 (洗衣粉) 主要原料來自？", a: "石油化學工業", o: ["天然油脂", "植物灰", "礦石"], t: ["化學","來源"] },
        { q: "造成河川優養化的是清潔劑中的？", a: "磷酸鹽", o: ["碳酸鹽", "硫酸鹽", "氯化物"], t: ["化學","汙染"] }
    ]},
    { type: "group", id: "chem_ext_51", context: "<h4>🔗 聚合物 (塑膠)</h4><p>由小分子單體聚合而成的巨大分子。</p>", questions: [
        { q: "熱塑性聚合物 (如寶特瓶) 的結構為？", a: "鏈狀結構 (加熱軟化)", o: ["網狀結構", "環狀結構", "球狀結構"], t: ["化學","結構"] },
        { q: "熱固性聚合物 (如輪胎) 的結構為？", a: "網狀結構 (加熱不軟化)", o: ["鏈狀結構", "線性結構", "氣態"], t: ["化學","性質"] },
        { q: "澱粉與纖維素的單體是？", a: "葡萄糖", o: ["胺基酸", "乙烯", "核苷酸"], t: ["化學","天然聚合物"] }
    ]},
    { type: "group", id: "chem_ext_52", context: "<h4>🥩 生物分子</h4><p>蛋白質是構成生物體的重要物質。</p>", questions: [
        { q: "蛋白質的單體是？", a: "胺基酸", o: ["葡萄糖", "脂肪酸", "甘油"], t: ["化學","組成"] },
        { q: "蛋白質受熱或遇酸會？", a: "變性凝固", o: ["溶解", "昇華", "爆炸"], t: ["化學","性質"] },
        { q: "檢驗澱粉使用？", a: "碘液 (變藍黑)", o: ["本氏液", "石蕊", "酚酞"], t: ["化學","檢驗"] }
    ]},
    { type: "group", id: "chem_ext_53", context: "<h4>♻️ 資源回收</h4><p>塑膠回收標誌中有數字編號。</p>", questions: [
        { q: "1 號 PET 是？", a: "寶特瓶", o: ["保鮮膜", "水管", "保麗龍"], t: ["化學","回收"] },
        { q: "6 號 PS (保麗龍) 遇熱或有機溶劑易釋出？", a: "毒素 (苯乙烯)", o: ["氧氣", "水", "香氣"], t: ["化學","安全"] },
        { q: "PLA (聚乳酸) 號稱綠色塑膠，原料來自？", a: "玉米澱粉", o: ["石油", "煤炭", "天然氣"], t: ["化學","環保"] }
    ]},
    { type: "group", id: "chem_ext_54", context: "<h4>🧪 食品保存</h4><p>為了延長保存期限，常添加防腐劑。</p>", questions: [
        { q: "常見的防腐劑是？", a: "己二烯酸", o: ["三聚氰胺", "塑化劑", "小蘇打"], t: ["化學","添加物"] },
        { q: "乾燥劑 (生石灰 CaO) 吸水後變成？", a: "熟石灰 (Ca(OH)₂)", o: ["石灰石", "石膏", "鹽"], t: ["化學","反應"] },
        { q: "真空包裝是為了隔絕？", a: "氧氣", o: ["光線", "熱", "電磁波"], t: ["化學","保存"] }
    ]},
    { type: "group", id: "chem_ext_55", context: "<h4>👔 衣料纖維</h4><p>分為天然纖維與人造纖維。</p>", questions: [
        { q: "燃燒時有燒紙味的是？", a: "植物纖維 (棉麻)", o: ["動物纖維", "合成纖維", "金屬纖維"], t: ["化學","鑑別"] },
        { q: "燃燒時有燒毛髮臭味的是？", a: "動物纖維 (絲毛 - 蛋白質)", o: ["棉花", "尼龍", "聚酯纖維"], t: ["化學","鑑別"] },
        { q: "最早的合成纖維是？", a: "尼龍", o: ["奧龍", "達克綸", "嫘縈"], t: ["化學","歷史"] }
    ]},

    // --- 單元：能源與環境 (56-60) ---
    { type: "group", id: "chem_ext_56", context: "<h4>🌞 溫室效應</h4><p>大氣層中的溫室氣體吸收地表輻射熱。</p>", questions: [
        { q: "最主要的溫室氣體是？", a: "二氧化碳", o: ["氮氣", "氧氣", "氬氣"], t: ["化學","環境"] },
        { q: "造成的後果不包括？", a: "地震頻繁", o: ["海平面上升", "氣候異常", "冰川融化"], t: ["化學","影響"] },
        { q: "京都議定書主要管制？", a: "碳排放", o: ["氟氯碳化物", "二氧化硫", "廢水"], t: ["化學","公約"] }
    ]},
    { type: "group", id: "chem_ext_57", context: "<h4>🕳️ 臭氧層破洞</h4><p>臭氧層位於平流層，能吸收紫外線。</p>", questions: [
        { q: "破壞臭氧層的元兇是？", a: "氟氯碳化物 (CFCs)", o: ["二氧化碳", "甲烷", "水蒸氣"], t: ["化學","汙染"] },
        { q: "蒙特婁議定書管制的是？", a: "CFCs", o: ["CO₂", "SO₂", "塑膠"], t: ["化學","公約"] },
        { q: "紫外線過強會導致？", a: "皮膚癌與白內障", o: ["肺癌", "骨折", "高血壓"], t: ["化學","健康"] }
    ]},
    { type: "group", id: "chem_ext_58", context: "<h4>🔋 綠色能源</h4><p>為了永續發展，積極開發再生能源。</p>", questions: [
        { q: "生質能是利用？", a: "動植物有機體 (如沼氣、酒精)", o: ["鈾礦", "煤炭", "天然氣"], t: ["化學","能源"] },
        { q: "氫燃料電池的產物是？", a: "水 (無汙染)", o: ["二氧化碳", "廢氣", "灰燼"], t: ["化學","電池"] },
        { q: "太陽能電池的主要材料？", a: "矽 (半導體)", o: ["銅", "鐵", "碳"], t: ["化學","材料"] }
    ]},
    { type: "group", id: "chem_ext_59", context: "<h4>⚛️ 放射性與核能</h4><p>核能發電利用核分裂產生熱能。</p>", questions: [
        { q: "常用的核燃料是？", a: "鈾-235", o: ["碳-14", "鈷-60", "氫-1"], t: ["化學","核能"] },
        { q: "居禮夫人發現的放射性元素？", a: "鐳與釙", o: ["鈾", "金", "銀"], t: ["化學","歷史"] },
        { q: "α 射線其實是？", a: "氦原子核", o: ["電子流", "電磁波", "中子流"], t: ["化學","輻射"] }
    ]},
    { type: "group", id: "chem_ext_60", context: "<h4>🔬 奈米科技</h4><p>奈米是長度單位，1 nm = 10⁻⁹ m。</p>", questions: [
        { q: "奈米金 (黃金微粒) 的顏色是？", a: "紅色", o: ["金黃色", "銀色", "黑色"], t: ["化學","奈米"] },
        { q: "蓮葉效應 (疏水性) 是因為表面有？", a: "奈米級微細結構", o: ["油脂", "蠟", "毛"], t: ["化學","仿生"] },
        { q: "光觸媒 (二氧化鈦) 在紫外線照射下能？", a: "分解髒汙與殺菌", o: ["發電", "發光", "製冷"], t: ["化學","應用"] }
    ]}
];

// 🚀 註冊至全域題庫
if (typeof extensionChemGroups !== 'undefined') {
    extensionChemGroups.forEach(g => {
        g.subject = "chemistry";
        // 自動補齊標籤，確保生成器找得到
        const baseTags = (g.questions && g.questions[0] && g.questions[0].t) ? g.questions[0].t : ["化學"];
        g.tags = ["chemistry", "理化", "閱讀題組", "化學", ...baseTags];
        g.type = "group";
        
        // 註冊
        window.__PHYSICS_REPO__ = window.__PHYSICS_REPO__ || {};
        window.__PHYSICS_REPO__[g.id] = g;
    });
    console.log(`✅ 已追加 60 組化學題組 (Chem Extension)！`);
}
    // 2. 生成 50 組題組並註冊
    const TOTAL_GROUPS = 50;
    
    for (let i = 0; i < TOTAL_GROUPS; i++) {
        const group = generateGroup(i);
        // 存入全域 Repo
        window.__CHEMISTRY_REPO__[group.id] = group;
    }

    console.log(`✅ 化學題組 (50組 x 3小題 = 150題) 生成完畢！`);

})(window);
